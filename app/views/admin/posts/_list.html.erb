<% posts.each_slice(1) do |posts| %>
<section>
  <div class="row mt-5">
    <ul>
      <% posts.each do |post| %>
        <div class="col-lg-12 text-center text-white toukou">
          <p>
            <%= image_tag post.user.get_profile_image(50,50), class: "rounded-circle" %>
            <%= post.user.name %>
            <%= post.created_at.strftime('%Y/%m/%d') %>
          </p>

          <%= link_to admin_post_path(post.id) do %>
            <%= image_tag post.get_image, :size =>'200x150' %>
          <% end %>

          <p><%= post.title %></p>
          <p><%= post.body %></p>
          <div id="waveform_<%= post.id %>">
            <!-- the waveform will be rendered here -->
          </div>
          <script>
            const wavesurfer_<%= post.id %> = WaveSurfer.create({
              container: '#waveform_<%= post.id %>',
              waveColor: 'white',
              progressColor: '#EDFFBE',
              url: '<%= post.audio.url %>',
            })
          </script>
          <button onclick="wavesurfer_<%= post.id %>.playPause()">再生・停止</button>

          <% post.tags.each do |tag| %>
            <%= tag.tag_type %>
          <% end %>
          <div id="waveform_<%= post.id %>"></div>
        </div>
      <% end %>
    </ul>
  </div>
</section>
<% end %>